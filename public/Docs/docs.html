<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PackCDN - Complete Publishing Process</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0a0a14 0%, #1a1a2e 50%, #0f3460 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        /* Animated background */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .gradient-circle {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            opacity: 0.3;
            animation: float 20s infinite ease-in-out;
        }

        .circle-1 {
            width: 300px;
            height: 300px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }

        .circle-2 {
            width: 400px;
            height: 400px;
            background: linear-gradient(45deg, #64ffda, #00b4d8);
            top: 60%;
            right: 10%;
            animation-delay: -5s;
        }

        .circle-3 {
            width: 250px;
            height: 250px;
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            bottom: 10%;
            left: 20%;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) scale(1); }
            33% { transform: translateY(-20px) scale(1.1); }
            66% { transform: translateY(20px) scale(0.9); }
        }

        .nav-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(10, 10, 20, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
            z-index: 1000;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: #ffffff;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-links a:hover {
            background: rgba(102, 126, 234, 0.3);
            transform: translateY(-2px);
        }

        .content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 140px 40px 60px;
        }

        .hero-section {
            text-align: center;
            padding: 80px 0;
            margin-bottom: 80px;
            opacity: 0;
            animation: fadeInUp 1s forwards;
        }

        .hero-title {
            font-size: 4rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-subtitle {
            font-size: 1.5rem;
            color: #ffffff;
            margin-bottom: 40px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0.9;
            line-height: 1.6;
        }

        .cta-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
        }

        .btn {
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
            display: inline-block;
            text-align: center;
            color: white;
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
        }

        .btn-secondary {
            background: transparent;
            color: #ffffff;
            border: 2px solid #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .section {
            margin: 100px 0;
            padding: 50px;
            background: rgba(25, 25, 35, 0.85);
            border-radius: 20px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            backdrop-filter: blur(10px);
            opacity: 0;
            transform: translateY(40px);
            animation: fadeInUp 0.8s forwards;
        }

        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title .icon {
            font-size: 2rem;
            color: #667eea;
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 30px 0;
        }

        .card {
            background: rgba(35, 35, 50, 0.9);
            padding: 30px;
            border-radius: 15px;
            transition: all 0.3s ease;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .card:hover {
            transform: translateY(-10px);
            border-color: #667eea;
            box-shadow: 0 15px 30px rgba(102, 126, 234, 0.2);
        }

        .card-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: #ffffff;
            font-weight: 600;
        }

        .card-content {
            color: #ffffff;
            line-height: 1.6;
            opacity: 0.9;
        }

        .code-block {
            background: rgba(15, 15, 25, 0.95);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            border-left: 4px solid #667eea;
            color: #e2e8f0;
            font-size: 0.95rem;
        }

        .code-block .highlight {
            color: #64ffda;
            font-weight: bold;
        }

        .code-block .comment {
            color: #94a3b8;
            font-style: italic;
        }

        .code-block .keyword {
            color: #ff6b6b;
        }

        .code-block .string {
            color: #64ffda;
        }

        .code-block .function {
            color: #ffd93d;
        }

        .code-block .number {
            color: #764ba2;
        }

        .terminal {
            background: rgba(10, 10, 20, 0.95);
            border: 2px solid #667eea;
            border-radius: 10px;
            overflow: hidden;
            margin: 30px 0;
        }

        .terminal-header {
            background: linear-gradient(45deg, #667eea, #764ba2);
            padding: 10px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.7);
        }

        .terminal-content {
            padding: 20px;
            font-family: 'Courier New', monospace;
            color: #00ff9d;
            background: rgba(0, 0, 0, 0.5);
            line-height: 1.5;
        }

        .process-flow {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .process-step {
            text-align: center;
            padding: 30px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            position: relative;
            transition: all 0.3s ease;
        }

        .process-step:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateY(-5px);
        }

        .step-number {
            position: absolute;
            top: -15px;
            left: -15px;
            width: 40px;
            height: 40px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .step-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .step-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #ffffff;
            font-weight: 600;
        }

        .step-description {
            color: #ffffff;
            opacity: 0.9;
            line-height: 1.5;
        }

        .file-explorer {
            background: rgba(20, 20, 35, 0.9);
            border-radius: 10px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            overflow: hidden;
            margin: 30px 0;
        }

        .file-explorer-header {
            background: rgba(102, 126, 234, 0.2);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
        }

        .file-explorer-content {
            padding: 20px;
        }

        .file-tree {
            list-style: none;
        }

        .file-item {
            padding: 8px 0;
            padding-left: 20px;
            border-left: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .file-item:hover {
            border-left-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .file-icon {
            font-size: 1.2rem;
        }

        .file-size {
            margin-left: auto;
            color: #94a3b8;
            font-size: 0.9rem;
        }

        .validation-panel {
            background: rgba(30, 30, 45, 0.9);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .validation-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        .validation-item.passed {
            background: rgba(100, 255, 218, 0.1);
        }

        .validation-item.failed {
            background: rgba(255, 107, 107, 0.1);
        }

        .validation-item.warning {
            background: rgba(255, 217, 61, 0.1);
        }

        .validation-icon {
            font-size: 1.5rem;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            background: rgba(30, 30, 45, 0.9);
            border-radius: 10px;
            overflow: hidden;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
        }

        .comparison-table th {
            background: rgba(102, 126, 234, 0.2);
            color: #ffffff;
            font-weight: 600;
        }

        .comparison-table tr:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .feature-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 2px;
        }

        .badge-basic {
            background: rgba(100, 255, 218, 0.2);
            color: #64ffda;
        }

        .badge-standard {
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
        }

        .badge-advanced {
            background: rgba(255, 217, 61, 0.2);
            color: #ffd93d;
        }

        .badge-wasm {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
        }

        .interactive-demo {
            position: relative;
            height: 400px;
            margin: 40px 0;
            border: 2px solid rgba(102, 126, 234, 0.4);
            border-radius: 15px;
            overflow: hidden;
            background: rgba(15, 15, 25, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .demo-visualizer {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .demo-log {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            color: #00ff9d;
            background: rgba(0, 0, 0, 0.5);
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
        }

        .demo-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            padding: 20px;
            background: rgba(102, 126, 234, 0.1);
        }

        .demo-btn {
            padding: 12px 24px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .demo-btn:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
            transform: scale(1.1);
        }

        .demo-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result-panel {
            background: rgba(30, 30, 45, 0.95);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid rgba(100, 255, 218, 0.3);
        }

        .result-success {
            border-color: rgba(100, 255, 218, 0.3);
        }

        .result-error {
            border-color: rgba(255, 107, 107, 0.3);
        }

        .result-title {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-urls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .result-url {
            padding: 15px;
            background: rgba(20, 20, 35, 0.9);
            border-radius: 8px;
            border: 1px solid rgba(102, 126, 234, 0.2);
            word-break: break-all;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .copy-btn {
            margin-top: 10px;
            padding: 6px 12px;
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            border: 1px solid #667eea;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: rgba(102, 126, 234, 0.3);
        }

        .expandable-section {
            margin: 20px 0;
        }

        .expandable-header {
            background: rgba(102, 126, 234, 0.1);
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .expandable-header:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            background: rgba(15, 15, 25, 0.9);
            border-radius: 0 0 8px 8px;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-top: none;
        }

        .expandable-content.expanded {
            max-height: 1000px;
            padding: 20px;
        }

        .diagram-container {
            position: relative;
            height: 500px;
            margin: 40px 0;
            background: rgba(20, 20, 35, 0.8);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(102, 126, 234, 0.3);
        }

        .flow-node {
            position: absolute;
            width: 180px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.3);
            border: 2px solid #667eea;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
            color: white;
            font-weight: 600;
            backdrop-filter: blur(5px);
            animation: floatNode 3s infinite ease-in-out;
            cursor: pointer;
        }

        .flow-node:hover {
            background: rgba(102, 126, 234, 0.5);
            transform: scale(1.05) translateY(-5px);
        }

        .flow-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform-origin: left center;
        }

        .node-tooltip {
            position: absolute;
            background: rgba(10, 10, 20, 0.95);
            border: 1px solid #667eea;
            border-radius: 8px;
            padding: 15px;
            z-index: 1000;
            max-width: 300px;
            backdrop-filter: blur(10px);
            display: none;
        }

        .node-tooltip.visible {
            display: block;
            animation: fadeInUp 0.3s ease;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 25px;
            background: rgba(40, 40, 50, 0.85);
            border-radius: 10px;
            transition: all 0.3s ease;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }

        .feature-item:hover {
            background: rgba(102, 126, 234, 0.3);
            transform: translateX(10px);
            border-color: #667eea;
        }

        .feature-icon {
            font-size: 2rem;
            color: #667eea;
        }

        .feature-item h3 {
            color: #ffffff;
            margin-bottom: 5px;
        }

        .feature-item p {
            color: #ffffff;
            opacity: 0.9;
        }

        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .stat-box {
            text-align: center;
            padding: 30px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 15px;
            border: 1px solid rgba(102, 126, 234, 0.4);
            backdrop-filter: blur(5px);
            animation: pulse 2s infinite;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #ffffff;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        footer {
            text-align: center;
            padding: 50px 40px;
            margin-top: 100px;
            border-top: 2px solid rgba(102, 126, 234, 0.3);
            color: #ffffff;
            background: rgba(10, 10, 20, 0.95);
        }

        footer a {
            color: #667eea;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        footer a:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            color: white;
            font-size: 1.2rem;
            z-index: 1000;
        }

        .back-to-top.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .back-to-top:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
            transform: translateY(-5px) scale(1.1);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes floatNode {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes rotateCube {
            0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
            100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .typing-animation {
            overflow: hidden;
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink .75s step-end infinite;
            width: 0;
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .content {
                padding: 140px 20px 20px;
            }
            
            .section {
                padding: 30px 20px;
                margin: 50px 0;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .process-flow {
                grid-template-columns: 1fr;
            }
            
            .result-urls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Simple background animation -->
    <div class="background-animation">
        <div class="gradient-circle circle-1"></div>
        <div class="gradient-circle circle-2"></div>
        <div class="gradient-circle circle-3"></div>
    </div>
    
    <!-- Navigation -->
    <nav class="nav-overlay">
        <div class="logo">PackCDN</div>
        <div class="nav-links">
            <a href="#overview">Overview</a>
            <a href="#process">Publishing Process</a>
            <a href="#api-details">API Details</a>
            <a href="#validation">Validation Rules</a>
            <a href="#wasm">WebAssembly</a>
            <a href="#demo">Interactive Demo</a>
            <a href="selector.html">Switch View</a>
        </div>
    </nav>
    
    <!-- Main content -->
    <div class="content">
        <section class="hero-section">
            <h1 class="hero-title">Complete Pack Publishing Guide</h1>
            <p class="hero-subtitle">
                A comprehensive walkthrough of the entire package publishing process, 
                from validation to WebAssembly compilation and CDN distribution.
            </p>
            <div class="cta-buttons">
                <a href="#process" class="btn btn-primary">Start Journey</a>
                <a href="#demo" class="btn btn-secondary">Try Demo</a>
            </div>
        </section>
        
        <section id="overview" class="section">
            <h2 class="section-title"><span class="icon">üöÄ</span> Publishing Overview</h2>
            <p class="card-content">
                PackCDN provides a complete end-to-end solution for publishing and distributing code packages. 
                The process involves multiple stages of validation, processing, and optimization before your 
                code becomes globally available via our CDN network.
            </p>
            
            <div class="stats-container">
                <div class="stat-box">
                    <div class="stat-number">7</div>
                    <div class="stat-label">Processing Stages</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Validation Rules</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Package Types</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">‚àû</div>
                    <div class="stat-label">Global Distribution</div>
                </div>
            </div>
        </section>
        
        <section id="process" class="section">
            <h2 class="section-title"><span class="icon">üîÑ</span> The Publishing Process</h2>
            
            <div class="process-flow">
                <div class="process-step">
                    <div class="step-number">1</div>
                    <div class="step-icon">üì¶</div>
                    <h3 class="step-title">Package Creation</h3>
                    <p class="step-description">Define package metadata and structure with pack.json</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">2</div>
                    <div class="step-icon">üîç</div>
                    <h3 class="step-title">Validation</h3>
                    <p class="step-description">Comprehensive validation of name, files, and content</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">3</div>
                    <div class="step-icon">‚öôÔ∏è</div>
                    <h3 class="step-title">WASM Compilation</h3>
                    <p class="step-description">Optional JavaScript to WebAssembly compilation</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">4</div>
                    <div class="step-icon">üîí</div>
                    <h3 class="step-title">Security Scan</h3>
                    <p class="step-description">Security analysis and sandbox configuration</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">5</div>
                    <div class="step-icon">üíæ</div>
                    <h3 class="step-title">Database Storage</h3>
                    <p class="step-description">Store in Supabase with versioning and metadata</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">6</div>
                    <div class="step-icon">üåç</div>
                    <h3 class="step-title">CDN Distribution</h3>
                    <p class="step-description">Deploy to Cloudflare Workers edge network</p>
                </div>
                
                <div class="process-step">
                    <div class="step-number">7</div>
                    <div class="step-icon">üéâ</div>
                    <h3 class="step-title">Delivery</h3>
                    <p class="step-description">Generate URLs and installation commands</p>
                </div>
            </div>
            
            <div class="expandable-section">
                <div class="expandable-header" onclick="toggleExpandable('step1')">
                    <h3>Step 1: Package Structure</h3>
                    <span class="icon">‚ñº</span>
                </div>
                <div class="expandable-content" id="step1">
                    <div class="file-explorer">
                        <div class="file-explorer-header">
                            <span class="icon">üìÅ</span>
                            <span>example-package/</span>
                        </div>
                        <div class="file-explorer-content">
                            <ul class="file-tree">
                                <li class="file-item">
                                    <span class="file-icon">üìÑ</span>
                                    <span>pack.json</span>
                                    <span class="file-size">1.2 KB</span>
                                </li>
                                <li class="file-item">
                                    <span class="file-icon">üìÑ</span>
                                    <span>index.js</span>
                                    <span class="file-size">2.4 KB</span>
                                </li>
                                <li class="file-item">
                                    <span class="file-icon">üìÑ</span>
                                    <span>package.json</span>
                                    <span class="file-size">0.8 KB</span>
                                </li>
                                <li class="file-item">
                                    <span class="file-icon">üìÅ</span>
                                    <span>src/</span>
                                </li>
                                <li class="file-item">
                                    <span class="file-icon">üìÅ</span>
                                    <span>dist/</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="code-block">
<span class="comment">// pack.json - Required package metadata</span>
{
  <span class="keyword">"name"</span>: <span class="string">"example-package"</span>,
  <span class="keyword">"version"</span>: <span class="string">"1.0.0"</span>,
  <span class="keyword">"description"</span>: <span class="string">"An example package for PackCDN"</span>,
  <span class="keyword">"type"</span>: <span class="string">"standard"</span>,
  <span class="keyword">"sandbox"</span>: {
    <span class="keyword">"level"</span>: <span class="string">"moderate"</span>,
    <span class="keyword">"memoryLimit"</span>: <span class="number">67108864</span>,
    <span class="keyword">"timeout"</span>: <span class="number">5000</span>
  }
}
                    </div>
                </div>
            </div>
        </section>
        
        <section id="api-details" class="section">
            <h2 class="section-title"><span class="icon">üîå</span> API Request & Response</h2>
            
            <div class="terminal">
                <div class="terminal-header">
                    <div class="terminal-dot"></div>
                    <div class="terminal-dot"></div>
                    <div class="terminal-dot"></div>
                </div>
                <div class="terminal-content">
<span class="highlight"># Publishing a package via API</span>
curl -X POST https://pack-cdn.vercel.app/api/publish \
  -H "Content-Type: application/json" \
  -d '{
    "name": "my-awesome-package",
    "packJson": "{\"name\":\"my-awesome-package\",\"version\":\"1.0.0\",\"description\":\"...\"}",
    "files": {
      "index.js": "export default function greet() { return \"Hello, World!\"; }",
      "utils.js": "export function add(a, b) { return a + b; }"
    },
    "packageType": "standard",
    "compileToWasm": true,
    "isPublic": true,
    "version": "1.0.0"
  }'
                </div>
            </div>
            
            <div class="expandable-section">
                <div class="expandable-header" onclick="toggleExpandable('apiRequest')">
                    <h3>Complete API Request Structure</h3>
                    <span class="icon">‚ñº</span>
                </div>
                <div class="expandable-content" id="apiRequest">
                    <div class="code-block">
{
  <span class="comment">// Required fields</span>
  <span class="keyword">"name"</span>: <span class="string">"package-name"</span>,        <span class="comment">// Package name (2-50 chars)</span>
  <span class="keyword">"packJson"</span>: <span class="string">"..."</span>,             <span class="comment">// JSON string of pack.json</span>
  <span class="keyword">"files"</span>: {                      <span class="comment">// Files object</span>
    <span class="keyword">"filename.js"</span>: <span class="string">"content"</span>
  },
  
  <span class="comment">// Optional fields with defaults</span>
  <span class="keyword">"packageType"</span>: <span class="string">"basic"</span>,         <span class="comment">// basic|standard|advanced|wasm</span>
  <span class="keyword">"version"</span>: <span class="string">"1.0.0"</span>,            <span class="comment">// Semantic version</span>
  <span class="keyword">"isPublic"</span>: <span class="number">true</span>,               <span class="comment">// Package visibility</span>
  <span class="keyword">"isNewVersion"</span>: <span class="number">false</span>,          <span class="comment">// Create new version</span>
  <span class="keyword">"basePackId"</span>: <span class="keyword">null</span>,             <span class="comment">// Base package ID for new versions</span>
  <span class="keyword">"userId"</span>: <span class="keyword">null</span>,                 <span class="comment">// User ID for ownership</span>
  <span class="keyword">"editToken"</span>: <span class="keyword">null</span>,              <span class="comment">// Edit token for permissions</span>
  <span class="keyword">"collaborators"</span>: [],             <span class="comment">// Array of user IDs</span>
  <span class="keyword">"compileToWasm"</span>: <span class="number">false</span>,          <span class="comment">// Enable WASM compilation</span>
  <span class="keyword">"wasmConfig"</span>: {}                 <span class="comment">// WASM compilation configuration</span>
}
                    </div>
                </div>
            </div>
            
            <div class="result-panel result-success">
                <h3 class="result-title"><span class="icon">‚úÖ</span> Success Response</h3>
                <div class="code-block">
{
  <span class="keyword">"success"</span>: <span class="number">true</span>,
  <span class="keyword">"packId"</span>: <span class="string">"pack_abc123xyz789"</span>,
  <span class="keyword">"urlId"</span>: <span class="string">"abc123xyz789"</span>,
  <span class="keyword">"cdnUrl"</span>: <span class="string">"https://packcdn.firefly-worker.workers.dev/cdn/abc123xyz789"</span>,
  <span class="keyword">"workerUrl"</span>: <span class="string">"https://packcdn.firefly-worker.workers.dev/pack/abc123xyz789"</span>,
  <span class="keyword">"wasmUrl"</span>: <span class="string">"https://packcdn.firefly-worker.workers.dev/cdn/abc123xyz789/compiled.wasm"</span>,
  <span class="keyword">"installCommand"</span>: <span class="string">"pack install my-awesome-package@1.0.0 https://..."</span>,
  <span class="keyword">"version"</span>: <span class="string">"1.0.0"</span>,
  <span class="keyword">"metadata"</span>: {
    <span class="keyword">"name"</span>: <span class="string">"my-awesome-package"</span>,
    <span class="keyword">"packageType"</span>: <span class="string">"standard"</span>,
    <span class="keyword">"fileCount"</span>: <span class="number">2</span>,
    <span class="keyword">"totalSize"</span>: <span class="number">1024</span>,
    <span class="keyword">"wasmGenerated"</span>: <span class="number">true</span>,
    <span class="keyword">"wasmFunctions"</span>: [<span class="string">"greet"</span>, <span class="string">"add"</span>]
  },
  <span class="keyword">"processingTime"</span>: <span class="string">"245ms"</span>
}
                </div>
            </div>
        </section>
        
        <section id="validation" class="section">
            <h2 class="section-title"><span class="icon">üîç</span> Comprehensive Validation</h2>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Package Type</th>
                        <th>Max Files</th>
                        <th>Max Size</th>
                        <th>Node Modules</th>
                        <th>WASM Support</th>
                        <th>Features</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="feature-badge badge-basic">Basic</span></td>
                        <td>20</td>
                        <td>5MB</td>
                        <td>‚ùå</td>
                        <td>‚ùå</td>
                        <td>Simple packages, sandboxed</td>
                    </tr>
                    <tr>
                        <td><span class="feature-badge badge-standard">Standard</span></td>
                        <td>50</td>
                        <td>10MB</td>
                        <td>‚úÖ (25)</td>
                        <td>‚úÖ (5MB)</td>
                        <td>NPM modules, basic WASM</td>
                    </tr>
                    <tr>
                        <td><span class="feature-badge badge-advanced">Advanced</span></td>
                        <td>100</td>
                        <td>50MB</td>
                        <td>‚úÖ (50+)</td>
                        <td>‚úÖ (25MB)</td>
                        <td>Full ecosystem, compile to WASM</td>
                    </tr>
                    <tr>
                        <td><span class="feature-badge badge-wasm">WASM</span></td>
                        <td>30</td>
                        <td>100MB</td>
                        <td>‚ùå</td>
                        <td>‚úÖ (100MB)</td>
                        <td>Pure WebAssembly, complex modules</td>
                    </tr>
                </tbody>
            </table>
            
            <div class="validation-panel">
                <h3>Package Name Validation</h3>
                <div class="validation-item passed">
                    <span class="validation-icon">‚úÖ</span>
                    <span>Must start with lowercase letter</span>
                </div>
                <div class="validation-item passed">
                    <span class="validation-icon">‚úÖ</span>
                    <span>2-50 characters in length</span>
                </div>
                <div class="validation-item passed">
                    <span class="validation-icon">‚úÖ</span>
                    <span>Only lowercase letters, numbers, hyphens, underscores</span>
                </div>
                <div class="validation-item warning">
                    <span class="validation-icon">‚ö†Ô∏è</span>
                    <span>Cannot end with hyphen or underscore</span>
                </div>
                <div class="validation-item failed">
                    <span class="validation-icon">‚ùå</span>
                    <span>Cannot contain consecutive hyphens/underscores</span>
                </div>
            </div>
            
            <div class="expandable-section">
                <div class="expandable-header" onclick="toggleExpandable('fileValidation')">
                    <h3>File & Content Validation Rules</h3>
                    <span class="icon">‚ñº</span>
                </div>
                <div class="expandable-content" id="fileValidation">
                    <div class="code-block">
<span class="comment">// JavaScript Security Validation</span>
<span class="function">function</span> validateJavaScript(content, packageType) {
  <span class="keyword">const</span> dangerousPatterns = [
    <span class="regex">/\beval\s*\(/i</span>,           <span class="comment">// eval() calls</span>
    <span class="regex">/\bFunction\s*\(/i</span>,       <span class="comment">// Function constructor</span>
    <span class="regex">/new\s+Function\s*\(/i</span>,    <span class="comment">// New Function()</span>
    <span class="regex">/\brequire\s*\([^)]*\)/i</span>,  <span class="comment">// Dynamic require (basic)</span>
    <span class="regex">/\bprocess\s*\./i</span>,         <span class="comment">// Process access (basic)</span>
    <span class="regex">/\bfs\s*\./i</span>              <span class="comment">// Filesystem access</span>
  ];
  
  <span class="keyword">for</span> (<span class="keyword">const</span> pattern <span class="keyword">of</span> dangerousPatterns) {
    <span class="keyword">if</span> (pattern.test(content)) {
      <span class="keyword">return</span> { 
        valid: <span class="keyword">false</span>, 
        reason: <span class="string">'JavaScript contains potentially dangerous patterns'</span>
      };
    }
  }
  
  <span class="keyword">return</span> { valid: <span class="keyword">true</span> };
}
                    </div>
                </div>
            </div>
        </section>
        
        <section id="wasm" class="section">
            <h2 class="section-title"><span class="icon">‚ö°</span> WebAssembly Compilation</h2>
            
            <div class="diagram-container" id="wasm-diagram">
                <!-- WASM compilation diagram will be created with JavaScript -->
            </div>
            
            <div class="expandable-section">
                <div class="expandable-header" onclick="toggleExpandable('wasmCode')">
                    <h3>Real JavaScript to WASM Compilation</h3>
                    <span class="icon">‚ñº</span>
                </div>
                <div class="expandable-content" id="wasmCode">
                    <div class="code-block">
<span class="comment">// PackWASMCompiler - Real compilation engine</span>
<span class="class">class</span> <span class="function">PackWASMCompiler</span> {
  <span class="function">async</span> compileJavaScriptToWasm(jsCode, config = {}) {
    <span class="keyword">try</span> {
      <span class="comment">// Step 1: Parse JavaScript and extract functions</span>
      <span class="keyword">const</span> functions = <span class="keyword">this</span>.extractJSFunctions(jsCode);
      
      <span class="comment">// Step 2: Generate WebAssembly Text (WAT) format</span>
      <span class="keyword">const</span> wat = <span class="keyword">this</span>.generateWatModule(functions, config);
      
      <span class="comment">// Step 3: Convert WAT to WASM binary</span>
      <span class="keyword">const</span> wasmBinary = <span class="keyword">await</span> <span class="keyword">this</span>.compileWatToWasm(wat);
      
      <span class="comment">// Step 4: Optimize WASM binary</span>
      <span class="keyword">const</span> optimizedWasm = <span class="keyword">await</span> <span class="keyword">this</span>.optimizeWasmBinary(wasmBinary);
      
      <span class="comment">// Step 5: Validate and return</span>
      <span class="keyword">const</span> isValid = <span class="keyword">await</span> <span class="keyword">this</span>.validateWasm(optimizedWasm);
      
      <span class="keyword">return</span> {
        success: isValid,
        wasm: optimizedWasm,
        metadata: {
          functions: functions.map(f => f.name),
          wasmSize: optimizedWasm.length
        }
      };
      
    } <span class="keyword">catch</span> (error) {
      <span class="keyword">throw</span> <span class="keyword">new</span> Error(<span class="string">'WASM compilation failed: '</span> + error.message);
    }
  }
  
  <span class="function">generateWatModule</span>(functions, config) {
    <span class="comment">// Generate complete WAT module from functions</span>
    <span class="keyword">return</span> <span class="string">`(module
  (memory (export "memory") <span class="string">${config.initialMemory || 1}</span> <span class="string">${config.maxMemory || 65536}</span>)
  <span class="string">${functions.map((func, i) => <span class="string">`
  (func $<span class="string">${func.name}</span> (export "<span class="string">${func.name}</span>")
    (result i32)
    i32.const <span class="string">${func.returnValue || 42}</span>
  )</span>).join('')}</span>
)`</span>;
  }
}
                    </div>
                </div>
            </div>
            
            <div class="result-panel">
                <h3 class="result-title"><span class="icon">üì¶</span> Generated WASM Wrapper</h3>
                <div class="code-block">
<span class="comment">// Auto-generated wrapper for compiled WebAssembly</span>
<span class="function">export class</span> ExamplePackageWASM {
  <span class="function">constructor</span>() {
    <span class="keyword">this</span>.instance = <span class="keyword">null</span>;
    <span class="keyword">this</span>.exports = <span class="keyword">null</span>;
    <span class="keyword">this</span>.memory = <span class="keyword">null</span>;
  }
  
  <span class="function">async</span> init() {
    <span class="keyword">const</span> wasmBase64 = <span class="string">"AGFzbQEAAAAGgweBAYMAgweCAY..."</span>;
    <span class="keyword">const</span> wasmBuffer = Uint8Array.from(atob(wasmBase64), c => c.charCodeAt(0));
    
    <span class="keyword">const</span> importObject = {
      env: {
        memory: <span class="keyword">new</span> WebAssembly.Memory({ initial: 256 }),
        abort: (msg) => console.error(<span class="string">'WASM abort:'</span>, msg)
      }
    };
    
    <span class="keyword">const</span> { instance } = <span class="keyword">await</span> WebAssembly.instantiate(wasmBuffer, importObject);
    <span class="keyword">this</span>.instance = instance;
    <span class="keyword">this</span>.exports = instance.exports;
    <span class="keyword">this</span>.memory = <span class="keyword">this</span>.exports.memory;
    
    <span class="keyword">return</span> <span class="keyword">this</span>;
  }
  
  <span class="function">greet</span>() { <span class="keyword">return</span> <span class="keyword">this</span>.exports.greet(); }
  <span class="function">add</span>(a, b) { <span class="keyword">return</span> <span class="keyword">this</span>.exports.add(a, b); }
}
                </div>
            </div>
        </section>
        
        <section id="demo" class="section">
            <h2 class="section-title"><span class="icon">üéÆ</span> Interactive Publishing Demo</h2>
            
            <div class="interactive-demo">
                <div class="demo-visualizer">
                    <div class="demo-log" id="demoLog">
                        <div>üöÄ Starting PackCDN Publishing Demo...</div>
                        <div>üì¶ Package: <span id="demoPackageName">example-package</span></div>
                        <div>üîç Validation: <span id="demoValidation">Pending</span></div>
                        <div>‚öôÔ∏è WASM Compilation: <span id="demoWasm">Pending</span></div>
                        <div>üíæ Database: <span id="demoDatabase">Pending</span></div>
                        <div>üåç CDN Distribution: <span id="demoCDN">Pending</span></div>
                        <div>‚úÖ Complete: <span id="demoComplete">Pending</span></div>
                    </div>
                    <div class="demo-controls">
                        <button class="demo-btn" onclick="startDemo()">Start Demo</button>
                        <button class="demo-btn" onclick="stepDemo()" id="stepBtn" disabled>Next Step</button>
                        <button class="demo-btn" onclick="resetDemo()" id="resetBtn" disabled>Reset</button>
                    </div>
                </div>
            </div>
            
            <div class="result-panel" id="demoResult" style="display: none;">
                <h3 class="result-title"><span class="icon">‚úÖ</span> Demo Results</h3>
                <div class="result-urls">
                    <div class="result-url">
                        <strong>CDN URL:</strong><br>
                        <span id="resultCdnUrl">https://packcdn.firefly-worker.workers.dev/cdn/demo123</span>
                        <button class="copy-btn" onclick="copyToClipboard('resultCdnUrl')">Copy</button>
                    </div>
                    <div class="result-url">
                        <strong>Install Command:</strong><br>
                        <span id="resultInstallCmd">pack install example-package@1.0.0 https://...</span>
                        <button class="copy-btn" onclick="copyToClipboard('resultInstallCmd')">Copy</button>
                    </div>
                    <div class="result-url">
                        <strong>WASM URL:</strong><br>
                        <span id="resultWasmUrl">https://packcdn.firefly-worker.workers.dev/cdn/demo123/compiled.wasm</span>
                        <button class="copy-btn" onclick="copyToClipboard('resultWasmUrl')">Copy</button>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="section">
            <h2 class="section-title"><span class="icon">üèóÔ∏è</span> Advanced Features</h2>
            
            <div class="feature-grid">
                <div class="feature-item">
                    <span class="feature-icon">üîê</span>
                    <div>
                        <h3>Advanced Security</h3>
                        <p>Comprehensive validation with banned module detection</p>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üìä</span>
                    <div>
                        <h3>Real-time Analytics</h3>
                        <p>Track views, downloads, and package performance</p>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">ü§ù</span>
                    <div>
                        <h3>Collaboration</h3>
                        <p>Multi-user editing with permission levels</p>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üîÑ</span>
                    <div>
                        <h3>Version Control</h3>
                        <p>Full version history and rollback capability</p>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">‚ö°</span>
                    <div>
                        <h3>Edge Caching</h3>
                        <p>Global CDN with instant cache invalidation</p>
                    </div>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üîß</span>
                    <div>
                        <h3>Custom Builds</h3>
                        <p>Compile Rust, Go, Zig to WebAssembly</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <div class="back-to-top" id="backToTop" onclick="scrollToTop()">
        ‚Üë
    </div>
    
    <footer>
        <p>PackCDN ¬© 2024 | Complete Publishing Engine with WebAssembly Compilation</p>
        <p style="margin-top: 10px;">
            <a href="selector.html">Switch to Classic View</a> | 
            <a href="Pages/Home/index.html">Go to Homepage</a> |
            <a href="#demo">Try Interactive Demo</a>
        </p>
    </footer>

    <script>
        // Interactive publishing demo
        let demoStep = 0;
        const demoSteps = [
            { name: "Package Validation", icon: "üîç", status: "pending" },
            { name: "Content Security Scan", icon: "üîí", status: "pending" },
            { name: "WASM Compilation", icon: "‚öôÔ∏è", status: "pending" },
            { name: "Database Storage", icon: "üíæ", status: "pending" },
            { name: "CDN Distribution", icon: "üåç", status: "pending" },
            { name: "URL Generation", icon: "üîó", status: "pending" }
        ];

        function startDemo() {
            demoStep = 0;
            document.getElementById('demoResult').style.display = 'none';
            document.getElementById('stepBtn').disabled = false;
            document.getElementById('resetBtn').disabled = false;
            
            updateDemoLog("Starting publishing simulation...", "info");
            updateDemoStatus("validation", "running");
        }

        function stepDemo() {
            if (demoStep >= demoSteps.length) {
                completeDemo();
                return;
            }
            
            const step = demoSteps[demoStep];
            
            // Update UI for current step
            updateDemoLog(`${step.icon} Processing: ${step.name}`, "processing");
            
            // Simulate processing time
            setTimeout(() => {
                step.status = "completed";
                updateDemoLog(`‚úÖ Completed: ${step.name}`, "success");
                
                // Update specific status indicators
                switch(demoStep) {
                    case 0:
                        updateDemoStatus("validation", "completed");
                        break;
                    case 1:
                        updateDemoStatus("wasm", "running");
                        break;
                    case 2:
                        updateDemoStatus("wasm", "completed");
                        break;
                    case 3:
                        updateDemoStatus("database", "completed");
                        break;
                    case 4:
                        updateDemoStatus("cdn", "completed");
                        break;
                    case 5:
                        updateDemoStatus("complete", "running");
                        break;
                }
                
                demoStep++;
                if (demoStep === demoSteps.length) {
                    document.getElementById('stepBtn').textContent = "Complete";
                }
            }, 800);
        }

        function completeDemo() {
            updateDemoLog("üéâ Publishing complete! Generating URLs...", "success");
            updateDemoStatus("complete", "completed");
            
            // Show results
            setTimeout(() => {
                document.getElementById('demoResult').style.display = 'block';
                updateDemoLog("‚úÖ Package successfully published and distributed globally!", "final");
                document.getElementById('stepBtn').disabled = true;
            }, 1000);
        }

        function resetDemo() {
            demoStep = 0;
            document.getElementById('demoResult').style.display = 'none';
            document.getElementById('stepBtn').textContent = "Next Step";
            document.getElementById('stepBtn').disabled = false;
            
            // Reset all status indicators
            document.querySelectorAll('#demoLog > div:not(:first-child)').forEach(div => {
                div.style.color = "#94a3b8";
            });
            
            // Reset status texts
            document.getElementById('demoValidation').textContent = "Pending";
            document.getElementById('demoWasm').textContent = "Pending";
            document.getElementById('demoDatabase').textContent = "Pending";
            document.getElementById('demoCDN').textContent = "Pending";
            document.getElementById('demoComplete').textContent = "Pending";
            
            updateDemoLog("üöÄ Demo reset. Ready to start again.", "info");
        }

        function updateDemoLog(message, type) {
            const log = document.getElementById('demoLog');
            const newEntry = document.createElement('div');
            newEntry.textContent = message;
            
            switch(type) {
                case "info":
                    newEntry.style.color = "#667eea";
                    break;
                case "processing":
                    newEntry.style.color = "#ffd93d";
                    break;
                case "success":
                    newEntry.style.color = "#64ffda";
                    break;
                case "error":
                    newEntry.style.color = "#ff6b6b";
                    break;
                case "final":
                    newEntry.style.color = "#764ba2";
                    newEntry.style.fontWeight = "bold";
                    break;
            }
            
            log.appendChild(newEntry);
            log.scrollTop = log.scrollHeight;
        }

        function updateDemoStatus(element, status) {
            const elem = document.getElementById(`demo${element.charAt(0).toUpperCase() + element.slice(1)}`);
            
            switch(status) {
                case "pending":
                    elem.textContent = "Pending";
                    elem.style.color = "#94a3b8";
                    break;
                case "running":
                    elem.textContent = "In Progress...";
                    elem.style.color = "#ffd93d";
                    break;
                case "completed":
                    elem.textContent = "Completed ‚úì";
                    elem.style.color = "#64ffda";
                    break;
                case "failed":
                    elem.textContent = "Failed ‚úó";
                    elem.style.color = "#ff6b6b";
                    break;
            }
        }

        function copyToClipboard(elementId) {
            const text = document.getElementById(elementId).textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('Copied to clipboard!');
            });
        }

        // Expandable sections
        function toggleExpandable(id) {
            const content = document.getElementById(id);
            const header = content.previousElementSibling;
            const icon = header.querySelector('.icon');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                icon.textContent = '‚ñº';
            } else {
                content.classList.add('expanded');
                icon.textContent = '‚ñ≤';
            }
        }

        // WASM diagram
        function createWasmDiagram() {
            const container = document.getElementById('wasm-diagram');
            const nodes = [
                { id: 1, title: 'JavaScript\nSource', x: '10%', y: '30%', color: '#667eea', icon: 'üìÑ', info: 'Original JavaScript/TypeScript code' },
                { id: 2, title: 'Parser', x: '25%', y: '30%', color: '#764ba2', icon: 'üîç', info: 'Extract functions and analyze structure' },
                { id: 3, title: 'WAT\nGenerator', x: '40%', y: '30%', color: '#3ecf8e', icon: '‚öôÔ∏è', info: 'Generate WebAssembly Text format' },
                { id: 4, title: 'WASM\nCompiler', x: '55%', y: '30%', color: '#f6821f', icon: 'üîß', info: 'Compile WAT to binary WebAssembly' },
                { id: 5, title: 'Optimizer', x: '70%', y: '30%', color: '#1abc9c', icon: '‚ö°', info: 'Optimize WASM binary for size and speed' },
                { id: 6, title: 'Wrapper\nGenerator', x: '85%', y: '30%', color: '#e84393', icon: 'üì¶', info: 'Generate JavaScript wrapper for easy usage' },
                { id: 7, title: 'Compiled\nWASM', x: '85%', y: '70%', color: '#00b4d8', icon: 'üéØ', info: 'Final optimized WebAssembly module' },
                { id: 8, title: 'JavaScript\nWrapper', x: '70%', y: '70%', color: '#ffd93d', icon: 'üìú', info: 'Auto-generated JavaScript interface' },
                { id: 9, title: 'Package\nBundle', x: '55%', y: '70%', color: '#6c5ce7', icon: 'üìÅ', info: 'Complete package with WASM and wrapper' }
            ];
            
            const connections = [
                { from: 1, to: 2 },
                { from: 2, to: 3 },
                { from: 3, to: 4 },
                { from: 4, to: 5 },
                { from: 5, to: 6 },
                { from: 6, to: 8 },
                { from: 5, to: 7 },
                { from: 7, to: 9 },
                { from: 8, to: 9 }
            ];
            
            // Create tooltip
            const tooltip = document.createElement('div');
            tooltip.className = 'node-tooltip';
            container.appendChild(tooltip);
            
            // Create nodes
            nodes.forEach(node => {
                const div = document.createElement('div');
                div.className = 'flow-node';
                div.innerHTML = `
                    <div style="font-size: 1.8rem; margin-bottom: 5px;">${node.icon}</div>
                    <div>${node.title}</div>
                `;
                div.style.left = node.x;
                div.style.top = node.y;
                div.style.borderColor = node.color;
                div.style.background = `linear-gradient(135deg, ${node.color}20, ${node.color}40)`;
                div.style.animationDelay = `${node.id * 0.5}s`;
                div.style.width = '120px';
                
                // Add hover effects
                div.addEventListener('mouseenter', (e) => {
                    tooltip.innerHTML = `
                        <strong>${node.icon} ${node.title.split('\n')[0]}</strong><br>
                        <small>${node.info}</small>
                    `;
                    tooltip.style.left = `${e.pageX + 10}px`;
                    tooltip.style.top = `${e.pageY + 10}px`;
                    tooltip.classList.add('visible');
                });
                
                div.addEventListener('mouseleave', () => {
                    tooltip.classList.remove('visible');
                });
                
                div.addEventListener('mousemove', (e) => {
                    tooltip.style.left = `${e.pageX + 10}px`;
                    tooltip.style.top = `${e.pageY + 10}px`;
                });
                
                container.appendChild(div);
            });
            
            // Create connections
            connections.forEach(conn => {
                const from = nodes.find(n => n.id === conn.from);
                const to = nodes.find(n => n.id === conn.to);
                
                if (from && to) {
                    const line = document.createElement('div');
                    line.className = 'flow-line';
                    
                    const fromX = parseFloat(from.x);
                    const fromY = parseFloat(from.y);
                    const toX = parseFloat(to.x);
                    const toY = parseFloat(to.y);
                    
                    const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));
                    const angle = Math.atan2(toY - fromY, toX - fromX) * (180 / Math.PI);
                    
                    line.style.width = `${length}%`;
                    line.style.left = `${fromX}%`;
                    line.style.top = `${fromY + 15}%`;
                    line.style.transform = `rotate(${angle}deg)`;
                    line.style.transformOrigin = '0 0';
                    
                    container.appendChild(line);
                }
            });
        }

        // Back to top button
        function initBackToTop() {
            const backToTop = document.getElementById('backToTop');
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 500) {
                    backToTop.style.opacity = '1';
                    backToTop.style.transform = 'translateY(0)';
                } else {
                    backToTop.style.opacity = '0';
                    backToTop.style.transform = 'translateY(20px)';
                }
            });
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Scroll animations
        function initScrollAnimations() {
            const sections = document.querySelectorAll('.section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1
            });
            
            sections.forEach(section => {
                observer.observe(section);
            });
        }

        // Initialize everything
        window.addEventListener('DOMContentLoaded', () => {
            initScrollAnimations();
            createWasmDiagram();
            initBackToTop();
            
            // Make hero section visible
            document.querySelector('.hero-section').style.opacity = '1';
            
            console.log("PackCDN Publishing Guide loaded successfully!");
        });
    </script>
</body>
</html>
