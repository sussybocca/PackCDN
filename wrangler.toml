name = "packcdn"
main = "Clouflare_Workers/cdn_worker.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[env.production]
workers_dev = true

[env.development]
workers_dev = true

[dev]
port = 8787
ip = "127.0.0.1"

[vars]
API_BASE_URL = "https://pack-cdn.vercel.app/api"
DEFAULT_ORIGIN = "*"

# CORS configuration
[[cors]]
origins = [
  "https://pack-cdn.vercel.app",
  "http://localhost:3000",
  "http://localhost:5173",
  "http://127.0.0.1:3000",
  "http://127.0.0.1:5173"
]
methods = ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
headers = [
  "Content-Type",
  "Authorization",
  "Accept",
  "Origin",
  "X-Requested-With",
  "Access-Control-Allow-Origin"
]
max_age = 86400
